{% extends "layout.html" %}

{% set pageId = "page-search-results" %}

{% block title %}
    <title>Resultado da Pesquisa</title>
{% endblock title %}

{% block styles %}
    <link rel="stylesheet" href="styles/search-results.css">
{% endblock styles %}

{% block content %}
    {% include "partials/page-header.html" %}

    <main>

        {# BCO PASSO 4 - criar a condição  #}
        {% if total > 0 %}
        <h4>
            {# BCO PASSO 3 #}
            <strong>{{ total }}
                ponto(s)</strong>
            encontrado(s)
        </h4>

        <div class="cards">
            {# BCO PASSO 1 - aqui ainda não criei o if condição então ele estava fora e depois foi colocado dentro da condição #}
            {# Este formato chama todos os dados do banco de dados #}
            {#  {{ places }}  #}

            {# Mas eu preciso de um que venha no formato correto e não objeto, objeto. Vou usar uma estrutura de repetição. Preciso repetir um card com os valores dinâmicos #}
            {# Cada place (variavel) é um item da tabela criada no passo 1 da criação do banco de dados no db.js. O places (iterator) é a tabela toda #}
            {# Para um local nos nossos locais vc vai rodar isso. #}
            {# Com esse card dinâmico já deve aparecer as informações cadastradas no banco no HTML #}
            {% for place in places %}
                <div class="card">
                    <img src="{{ place.image }}" alt="{{ place.name }}">
                    <h1>{{ place.name }}</h1>
                    <h3>{{ place.items }}</h3>
                    <p>{{ place.city }}
                        ,
                        {{ place.state }}
                        <br/>
                        {{ place.address }}
                        <br/>
                        {{ place.address2 }}
                    </p>
                </div>
            {% endfor %}
            {# BCO PASSO 2 #}
            {# O proximo passo é atualizar a linha com a quantidade de itens encontrados. Ir para o server.js #}
        </div>

    {# Esse bloco será exibido no caso de não haver local cadastrado. #}
    {# Para testar acessar o db e rodar o bloco delete colocando as posições a serem deletadas. Usar somente a linha db serialize e a função deletar para testar, todas as outras funções devem ser comentadas #}
    {% else %}
    <h4><strong>Nenhum</strong> local encontrado</h4>
        
        {% endif %}

    </main>
{% endblock content %}
        